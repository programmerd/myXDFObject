var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{u(n.next(t))}catch(e){r(e)}}function a(t){try{u(n["throw"](t))}catch(e){r(e)}}function u(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}u((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;u;)try{if(s=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(n){i=[6,n],r=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},cacl=function(t){function e(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var s=t.call(this)||this;return s.value=0,s.towValue=0,s.valueArr=[],s.typeArr=[],s.count=0,s.submitNum=0,s.skinName="caclSkin",s.cacl=e,s.caclSkin.x=i,s.caclSkin.y=n,s}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.start()},e.prototype.start=function(){var t=this;this.caclGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.keyDown,this),this.add.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addFun,this),this.minus.addEventListener(egret.TouchEvent.TOUCH_TAP,this.minusFun,this),this.ride.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rideFun,this),this.remove.addEventListener(egret.TouchEvent.TOUCH_TAP,this.removeFun,this),this.ac.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickAC,this),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this),this.closeCacl.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.cacl.removeChild(t)},this)},e.prototype.keyDown=function(t){"="==this.typeArr[this.typeArr.length-1]&&this.settingValue(),this.sum0.visible=!1;var e=t.target.source.split("_")[0].split("cacl")[1];this.sum.text=parseInt(this.sum.text+e)+"",this.value=parseInt(this.value+e)},e.prototype.settingValue=function(){this.submitNum<1&&(this.value=0,this.submitNum+=1)},e.prototype.addFun=function(){this.computed("+")},e.prototype.minusFun=function(){this.computed("-")},e.prototype.rideFun=function(){this.computed("x")},e.prototype.removeFun=function(){this.computed("÷")},e.prototype.clickAC=function(){this.sum.text="0",this.sum0.text="0",this.sum0.visible=!1,this.value=0,this.count=0,this.typeArr=[]},e.prototype.submitFun=function(){this.computed("="),this.value=parseInt(this.sum0.text),this.submitNum=0,this.count=0},e.prototype.computed=function(t){this.valueArr.push(this.value),this.typeArr.push(t);var e=0,i=parseInt(this.sum0.text);if(console.log("-->",this.count),this.count>=1){switch(this.towValue=this.value,this.typeArr[this.typeArr.length-2]){case"+":e=i+this.towValue;break;case"-":e=i-this.towValue;break;case"x":e=i*this.towValue;break;case"÷":e=i/this.towValue}this.sum0.text=e+""}else console.log("初始化"),this.sum0.text=this.value+"";this.sum.text="",this.sum0.visible=!0,this.value=0,this.count++},e}(eui.Component);__reflect(cacl.prototype,"cacl",["eui.UIComponent","egret.DisplayObject"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.size=80,this.textField.width=1920,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="正在加载..."+Math.floor(t/e*100)+"%"},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),this.startAnimation(t),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,this.loadTheme()];case 2:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return i.sent(),this.stage.removeChild(t),[3,5];case 4:return e=i.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var n=new eui.Theme("resource/default.thm.json",t.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){var t=new Index;this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){var e=this,i=new egret.HtmlTextParser,n=t.map(function(t){return i.parse(t)}),s=this.textfield,r=-1,o=function(){r++,r>=n.length&&(r=0);var t=n[r];s.textFlow=t;var i=egret.Tween.get(s);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(o,e)};o()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var u=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(n,generateJSON.paths[t])},this):RES.getResByUrl(u,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(n,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Index=function(t){function e(){var e=t.call(this)||this;return e.subNum=new Value(1),e.btnArr=[],e.clickBtnArr=[],e.countOne=0,e.countTwo=0,e.speed=300,e.mouseLineArr=[0,6,10,11,12,25,24],e.mouseDistanceOne=0,e.mouseDistanceTwo=0,e.shape=new egret.Shape,e.shape2=new egret.Shape,e.isFirstLineTo=!0,e.direction={take:"tickling",dom:"mouseGroup",dragonbonesData:"xiaolaoshu_ske_json",textureData1:"xiaolaoshu_tex_json",texture1:"xiaolaoshu_tex_png",name:"xiaolaoshu",animateName:"you",count:-1},e.direction2={take:"tickling2",dom:"mouseGroup2",dragonbonesData:"xiaolaoshu_ske_json",textureData1:"xiaolaoshu_tex_json",texture1:"xiaolaoshu_tex_png",name:"xiaolaoshu",animateName:"you",count:-1},e.resultSuccess={take:"resultAniumate",dom:"resultGroup",dragonbonesData:"xiaolaoshu1_ske_json",textureData1:"xiaolaoshu1_tex_json",texture1:"xiaolaoshu1_tex_png",name:"xiaolaoshu1",animateName:"dui",count:-1},e.taoxin={take:"successTx",dom:"resultGroup",dragonbonesData:"taoxin_ske_json",textureData1:"taoxin_tex_json",texture1:"taoxin_tex_png",name:"taoxin",count:-1},e.isMusic=!0,e.bj=RES.getRes("bj_mp3"),e.music_subject=RES.getRes("music_subject_mp3"),e.click_node=RES.getRes("click_node_mp3"),e.pao=RES.getRes("pao_mp3"),e.success=RES.getRes("success_mp3"),e.error=RES.getRes("error_mp3"),e.skinName="IndexSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){var e=this;this.music.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicFun,this),this.reset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.resetFun,this),this.subject.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.subjectGroup.visible=!0},this),this.subjectGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.subjectGroup.visible=!1},this),this.subNum.addEventListener(Data.DATA,this.changNumber,this),this.clickLineBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnLine,this),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this),eui.Watcher.watch(this,["countOne"],this.changeCountOne,this),eui.Watcher.watch(this,["countTwo"],this.changeCountTow,this),t.prototype.childrenCreated.call(this),this.clickStart.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.endStart.visible=!1,e.start()},this)},e.prototype.start=function(){this.music_bj=this.bj.play(0,-1),this.playMusic("music_subject"),this.nailao.visible=!0,this.btnArr=this.clickLineBtn.$children.slice(0);for(var t=0;t<this.mouseLineArr.length;t++){var e=this.clickLineBtn.getChildAt(this.mouseLineArr[t]);this.shape2.graphics.lineStyle(15,16110503),0==t?(this.shape2.graphics.clear(),this.shape2.graphics.lineStyle(15,16110503),this.shape2.graphics.moveTo(e.x,e.y)):this.shape2.graphics.lineTo(e.x,e.y),this.shape2.graphics.endFill(),this.shapeOne.addChild(this.shape2)}this.mouseAnimateOne()},e.prototype.changeCountOne=function(){var t=this;if(0==this.countOne)return"";var e=this.clickLineBtn.getChildAt(this.mouseLineArr[this.countOne]),i=this.clickLineBtn.getChildAt(this.mouseLineArr[this.countOne-1]),n=e.x-i.x,s=e.y-i.y;n>0?this.tickling.animation.play("you"):0>n?this.tickling.animation.play("zuo"):s>0?this.tickling.animation.play("xia"):0>s&&this.tickling.animation.play("shang");var r=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),o=r/this.speed*1e3;egret.Tween.get(this.mouseGroup).to({x:275+e.x,y:390+e.y},o).call(function(){if(t.countOne<t.mouseLineArr.length-1)t.countOne++;else{if(t.isFirstLineTo){var e=t.clickLineBtn.getChildAt(0);e.enabled=!0,t.mouseGroup.visible=!1,t.mouse1.visible=!0,t.playTweenFun()}else t.mouseDistanceOne==t.mouseDistanceTwo?(t.resultAniumate=t.animationFun(t.resultSuccess),t.resultAniumate.animation.play("dui"),t.mouseGroup.visible=!1,t.mouseGroup2.visible=!1,t.successTx=t.animationFun(t.taoxin),t.playMusic("success",-1),t.successTx.x=150,t.successTx.y=50,t.successTx.scaleX=1.5,t.successTx.scaleY=1.5):t.mouseDistanceOne>t.mouseDistanceTwo&&(t.resultAniumate=t.animationFun(t.resultSuccess),t.resultAniumate.animation.play("cuo"),t.playMusic("error",-1),t.nailao.visible=!1,t.mouseGroup.visible=!1,t.mouseGroup2.visible=!1);t.tickling.animation.play("you")}})},e.prototype.changeCountTow=function(){var t=this;if(0==this.countTwo)return"";var e=this.clickLineBtn.getChildAt(this.clickBtnArr[this.countTwo]),i=this.clickLineBtn.getChildAt(this.clickBtnArr[this.countTwo-1]),n=e.x-i.x,s=e.y-i.y;n>0?this.tickling2.animation.play("you"):0>n?this.tickling2.animation.play("zuo"):s>0?this.tickling2.animation.play("xia"):0>s&&this.tickling2.animation.play("shang");var r=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),o=r/this.speed*1e3;egret.Tween.get(this.mouseGroup2).to({x:275+e.x,y:390+e.y},o).call(function(){t.countTwo<t.clickBtnArr.length-1?t.countTwo++:(t.mouseDistanceOne<t.mouseDistanceTwo&&(t.resultAniumate=t.animationFun(t.resultSuccess),t.resultAniumate.animation.play("cuo"),t.playMusic("error",-1),t.nailao.visible=!1,t.mouseGroup.visible=!1,t.mouseGroup2.visible=!1),t.tickling2.animation.play("you"))})},e.prototype.clickBtnLine=function(t){if("group"!=t.target.name){this.playMusic("click_node");var e=[],i=[],n=[],s=[],r=[],o=this.clickLineBtn.$children,a=o.indexOf(t.target);this.clickBtnArr.push(a);for(var u=0;u<this.btnArr.length;u++){if(this.btnArr[u].enabled=!1,u!=a&&this.btnArr[u].y==t.target.y){var c=t.target.x-this.btnArr[u].x;c>0?i.push(this.btnArr[u]):n.push(this.btnArr[u]),e.push(this.btnArr[u])}if(u!=a&&this.btnArr[u].x==t.target.x){var h=t.target.y-this.btnArr[u].y;h>0?s.push(this.btnArr[u]):r.push(this.btnArr[u]),e.push(this.btnArr[u])}}var l=e.some(function(e){return e.x-t.target.x<0}),p=e.some(function(e){return e.x-t.target.x>0}),d=e.some(function(e){return e.y-t.target.y<0}),m=e.some(function(e){return e.y-t.target.y>0});i.sort(function(t,e){return e.x-t.x}),n.sort(function(t,e){return t.x-e.x}),s.sort(function(t,e){return e.y-t.y}),r.sort(function(t,e){return t.y-e.y}),this.clickBtnArr.join("")==this.mouseLineArr.slice(0,-1).join("")&&(p=!1),24!=a?(l?i[0].enabled=!0:"",p?n[0].enabled=!0:"",d?s[0].enabled=!0:"",m?r[0].enabled=!0:""):this.submit.enabled=!0;for(var g=0;g<this.clickBtnArr.length;g++)this.btnArr[this.clickBtnArr[g]].enabled=!1;var f=t.target.x,y=t.target.y;this.shape.graphics.lineStyle(15,16711935),this.isFirstLineTo&&(this.shape.graphics.clear(),this.shape.graphics.lineStyle(15,16711935),this.shape.graphics.moveTo(f,y),this.isFirstLineTo=!1),this.shape.graphics.lineTo(f,y),this.shape.graphics.endFill(),this.clickLineBtn.addChild(this.shape),t.target.enabled=!1,this.playTweenFun()}},e.prototype.changNumber=function(t){console.log(t.target.value),console.log(this.subNum.value)},e.prototype.submitFun=function(){console.log("开始比赛"),this.playMusic("pao",-1),this.submit.enabled=!1,this.mouseDistanceOne=0,this.mouseDistanceTwo=0,this.countOne=0,this.countTwo=0,this.mouseGroup.visible=!0,this.mouseGroup2.visible=!0,this.mouse1.visible=!1,this.mouse2.visible=!1,this.successTx&&this.successTx.parent&&this.resultGroup.removeChild(this.successTx);for(var t=1;t<this.mouseLineArr.length;t++){var e=this.clickLineBtn.getChildAt(this.mouseLineArr[t]),i=this.clickLineBtn.getChildAt(this.mouseLineArr[t-1]);this.mouseDistanceOne+=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}for(var t=1;t<this.clickBtnArr.length;t++){var n=this.clickLineBtn.getChildAt(this.clickBtnArr[t]),s=this.clickLineBtn.getChildAt(this.clickBtnArr[t-1]);this.mouseDistanceTwo+=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))}console.log("第一只",this.mouseDistanceOne),console.log("第二只",this.mouseDistanceTwo),this.mouseAnimateOne(),this.mouseAnimateTow()},e.prototype.mouseAnimateOne=function(){var t=this;this.mouseGroup.visible=!0,this.tickling=this.animationFun(this.direction),this.tickling.scaleX=.7,this.tickling.scaleY=.7,this.tickling.animation.play("you"),egret.Tween.get(this.mouseGroup).to({x:275,y:390},0).call(function(){t.countOne++})},e.prototype.mouseAnimateTow=function(){var t=this;this.mouseGroup2.visible=!0,this.tickling2=this.animationFun(this.direction2),this.tickling2.scaleX=.7,this.tickling2.scaleY=.7,this.tickling2.animation.play("you"),egret.Tween.get(this.mouseGroup2).to({x:275,y:390},0).call(function(){t.countTwo++})},e.prototype.playTweenFun=function(){for(var t=this.clickLineBtn.$children,e=0;e<t.length;e++)t[e].enabled?egret.Tween.get(t[e],{loop:!0}).to({scaleX:2,scaleY:2},500).to({scaleX:1,scaleY:1},500):(t[e].scaleX=1,t[e].scaleY=1,egret.Tween.removeTweens(t[e]))},e.prototype.musicFun=function(){this.isMusic?(this.music_bj.stop(),this.isMusic=!1,this.music.source="music_close_png"):(this.music_bj=this.bj.play(0,-1),this.isMusic=!0,this.music.source="music_png")},e.prototype.resetFun=function(){window.location.reload()},e.prototype.playMusic=function(t,e){return void 0===e&&(e=1),this.racTipMusic&&this.racTipMusic.stop(),this.racTipMusic=this[t].play(0,e),this.racTipMusic},e.prototype.animationFun=function(t){var e=this;this[t.take]&&this[t.take].parent&&(t.dom?this[t.dom].removeChild(this[t.take]):this.removeChild(this[t.take]));var i=RES.getRes(t.dragonbonesData),n=RES.getRes(t.textureData1),s=RES.getRes(t.texture1),r=new dragonBones.EgretFactory;r.parseDragonBonesData(i),r.parseTextureAtlasData(n,s);var o=r.buildArmatureDisplay(t.name);return t.dom?this[t.dom].addChild(o):this.addChild(o),o.animation.gotoAndPlayByFrame(t.animateName?t.animateName:t.name,1,t.count),o.addEventListener(dragonBones.EventObject.FRAME_EVENT,function(t){},this),o.addEventListener(dragonBones.EventObject.COMPLETE,function(){o.parent&&(t.dom?e[t.dom].removeChild(o):e.removeChild(o))},this),o},e}(eui.Component);__reflect(Index.prototype,"Index",["eui.UIComponent","egret.DisplayObject"]);var Value=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){if(this._value!=t){this._value=t;var e=new Data(Data.DATA);this.dispatchEvent(e)}},enumerable:!0,configurable:!0}),e}(egret.EventDispatcher);__reflect(Value.prototype,"Value");var Data=function(t){function e(e,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)||this}return __extends(e,t),e.DATA="valueChang",e}(egret.Event);__reflect(Data.prototype,"Data");var demo;!function(t){var e=function(t){function e(e,i,n){var s=t.call(this)||this;return s._delay=100,s._initStartTime=-1,s._delayStartTime=-1,s._startPoint=e,s._endPoint=i,s._duration=n,s}return __extends(e,t),Object.defineProperty(e.prototype,"distance",{get:function(){return isNaN(this._distance)&&(this._distance=Math.floor(egret.Point.distance(this._startPoint,this._endPoint))),this._distance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{set:function(t){this._duration=t},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},e.prototype.onEnterFrame=function(t){var i=egret.getTimer();if(this._delayStartTime<0)this._delayStartTime=i,this._initStartTime=i;else{var n=i-this._delayStartTime;if(n>this._delay){this._delayStartTime=i-(n-this._delay);var s=i-this._initStartTime;if(s>this._duration)this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this._lineToPoint=this._endPoint,this.dispatchEvent(new egret.Event(e.TWEEN_COMPLETE));else{var r=s/this._duration;this._lineToPoint=egret.Point.interpolate(this._endPoint,this._startPoint,r)}this.draw()}}},e.prototype.draw=function(){this.graphics.clear(),this.graphics.lineStyle(4,16777215,1,!0),this.graphics.moveTo(this._startPoint.x,this._startPoint.y),this.graphics.lineTo(this._lineToPoint.x,this._lineToPoint.y)},e.TWEEN_COMPLETE="tweenComplete",e}(egret.Shape);t.DrawLine=e,__reflect(e.prototype,"demo.DrawLine")}(demo||(demo={}));var demo;!function(t){var e=function(e){function i(i,n,s){void 0===n&&(n=!0),void 0===s&&(s=3);var r=e.call(this)||this;r._drawLines=[];for(var o=r.parse2Points(i),a=o.length,u=0,c=0;a-1>c;c++){var h=o[c],l=o[c+1],p=new t.DrawLine(h,l,0);p.addEventListener(t.DrawLine.TWEEN_COMPLETE,r.onTweenComplete,r),r.addChild(p),r._drawLines.push(p),u+=p.distance,n||c++}var d=r._drawLines.length,m=[],g=typeof s;if("number"==g)for(var f=1e3*s,y=f/u,c=0;d>c;c++)m[c]=Math.floor(y*r._drawLines[c].distance);else if("array"==g&&(m=s,m.length!=d))throw new Error("给定的缓动时间列表长度与直线列表长度不一致！");for(var c=0;d>c;c++)r._drawLines[c].duration=m[c];return r}return __extends(i,e),i.prototype.parse2Points=function(e){for(var i=[],n=e.length,s=0;n>s;s++){var r=e[s].split(","),o=new t.Point(parseInt(r[0]),parseInt(r[1]));i.push(o)}return i},i.prototype.onTweenComplete=function(t){this._currentIndex++,this._currentIndex<this._drawLines.length&&this.startCurrentDrawLine()},i.prototype.startCurrentDrawLine=function(){this._drawLines[this._currentIndex].start()},i.prototype.start=function(){this._currentIndex=0,this.startCurrentDrawLine()},i.DRAW_LINE_COMPLETE="drawLineComplete",i}(egret.Sprite);t.DrawLineTwen=e,__reflect(e.prototype,"demo.DrawLineTwen")}(demo||(demo={}));var Keyset=function(t){function e(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var s=t.call(this)||this;return s.skinName="KeysetSkin",s.cacl=e,s.x=0,s.y=0,console.log(i,n),s.keySetGroup.x=i,s.keySetGroup.y=n,s}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);for(var e=0;10>e;e++)this["key"+e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickKeyFun,this);this.cacl.clickLabel.text="",this.keyRevise.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reviseFun,this),this.keyOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this),this.RectBj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this)},e.prototype.clickKeyFun=function(t){var e=t.target.source.split("_")[0];this.cacl.clickLabel.text.length<8&&(this.cacl.clickLabel.text+=e.split("key")[1])},e.prototype.reviseFun=function(t){this.cacl.clickLabel.text=""},e.prototype.submitFun=function(t){""!=this.cacl.clickLabel.text?this.cacl.clickLabel.text=parseInt(this.cacl.clickLabel.text)+"":this.cacl.clickLabel.text="输入",this.cacl.removeChild(this)},e}(eui.Component);__reflect(Keyset.prototype,"Keyset",["eui.UIComponent","egret.DisplayObject"]);var demo;!function(t){var e=function(t){function e(e,i){return t.call(this,e,i)||this}return __extends(e,t),e}(egret.Point);t.Point=e,__reflect(e.prototype,"demo.Point")}(demo||(demo={}));