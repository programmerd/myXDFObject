var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,r){function o(t){try{h(s.next(t))}catch(e){r(e)}}function a(t){try{h(s["throw"](t))}catch(e){r(e)}}function h(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(o,a)}h((s=s.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,r=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,r,o,a,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function s(s){e.call(i,s,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?s(n):RES.getResAsync(t,s,this)}else RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),this.startAnimation(t),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,this.loadTheme()];case 2:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return i.sent(),this.stage.removeChild(t),[3,5];case 4:return e=i.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var s=new eui.Theme("resource/default.thm.json",t.stage);s.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){var t=new Swallow;this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.startAnimation=function(t){var e=this,i=new egret.HtmlTextParser,s=t.map(function(t){return i.parse(t)}),n=this.textfield,r=-1,o=function(){r++,r>=s.length&&(r=0);var t=s[r];n.textFlow=t;var i=egret.Tween.get(n);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(o,e)};o()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Swallow=function(t){function e(){var e=t.call(this)||this;return e.subNum=1,e.isCursor=!0,e.touchStatus=!1,e.distance=new egret.Point,e.shape=new egret.Shape,e.isFirstLineTo=!0,e.isClose=[],e.trigonPosition=[],e.submitArr=[[18],[20],[2,3]],e.resultsArr=[["ABE","ACE","BD","CD"],["BCE","ABE","CD","AD"],["ABO","BCO","AF","CF","ACO","BCO","AE","BE","ABO","ACO","BD","CD"]],e.resultArr=[],e.egretFactory=dragonBones.EgretFactory.factory,e.warcraftNormal={dragonbonesData:"swallow1_ske_json",textureData1:"swallow1_tex_json",texture1:"swallow1_tex_png",name:"swallow1",count:-1},e.file={dragonbonesData:"fuhuo_ske_json",textureData1:"fuhuo_tex_json",texture1:"fuhuo_tex_png",name:"fuhuo",count:1},e.paopaosuilie={dom:"clickSubject",dragonbonesData:"paopaosuilie_ske_json",textureData1:"paopaosuilie_tex_json",texture1:"paopaosuilie_tex_png",name:"paopaosuilie",count:1},e.isMusic=!0,e.fy_bj=RES.getRes("fy_bj_mp3"),e.fy_tip1=RES.getRes("fy_tip1_mp3"),e.fy_tip2=RES.getRes("fy_tip2_mp3"),e.fy_revise=RES.getRes("fy_revise_mp3"),e.fy_zq=RES.getRes("fy_zq_mp3"),e.fy_error=RES.getRes("fy_error_mp3"),e.fy_clickTip=RES.getRes("fy_clickTip_mp3"),e.fy_fh=RES.getRes("fy_fh_mp3"),e.fy_gshj=RES.getRes("fy_gshj_mp3"),e.fy_jiao=RES.getRes("fy_jiao_mp3"),e.fy_jzdk=RES.getRes("fy_jzdk_mp3"),e.fy_qpbz=RES.getRes("fy_qpbz_mp3"),e.fy_tuoru=RES.getRes("fy_tuoru_mp3"),e.skinName="SwallowSkin",e.addEventListener(egret.Event.ENTER_FRAME,function(){dragonBones.WorldClock.clock.advanceTime(.03)},e),e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.clickBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnFun,this),this.clickSubject.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickSubjectFun,this),this.shape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.shape.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this),this.affirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.affirmFun,this),this["switch"].addEventListener(egret.TouchEvent.TOUCH_TAP,this.switchFun,this),this.back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.backFun,this),this.clickSubLabel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickSubLabelFun,this),this.music.addEventListener(egret.TouchEvent.TOUCH_TAP,this.musicFun,this),this.revise.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reviseFun,this),this.overRect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reviseFun,this),this.labelGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showTipFun,this),this.showTipGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.showTipGroup.visible=!1},this),this.clickStart.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.endStart.visible=!1,e.start()},this)},e.prototype.start=function(){var t=this;this.showSubject.visible=!1,this.flie.visible=!1,this.overRect.visible=!1,this.tipLabel.visible=!0,this.tipLabelOpen.visible=!1,this.fy_tip1.play(0,1).addEventListener(egret.Event.SOUND_COMPLETE,function(){t.music_bj=t.fy_bj.play(0,-1),t.music_bj.volume=.3,t.playMusic("fy_jzdk")},this),this.Reel.play(0),setTimeout(function(){t.cursorFun()},1e3)},e.prototype.clickSubjectFun=function(t){if("group"!=t.target.name&&"click"==t.target.source.split("_").reverse()[1]){this.mc.x=880,this.mc.y=365,this.tipLabel.visible=!1,this.tipLabelOpen.visible=!0,this.fy_clickTip.play(0,1),this.playMusic("fy_tip2"),this.affirm.enabled=!1,this["switch"].enabled=!1,this.subNum=t.target.name,this.showSubject.visible=!0,this.clickBtn.visible=!0,this.moveGroup.visible=!0,this.clickSubLabel.visible=!1,this.subject.source="subject"+t.target.name+"_png",this.title.source="title"+t.target.name+"_png",this.input.source="input"+t.target.name+"_png",this.imgBorder.source="border"+t.target.name+"_png";for(var e=0;e<this.resultsArr[this.subNum-1].length;e++)this.resultArr[e]=this.resultsArr[this.subNum-1][e];this.isClose=[],this.trigonPosition=[],this.isFirstLineTo=!0;for(var e=1;4>e;e++)e==this.subNum?(this["moveGroup"+e].visible=!0,this["clickBtn"+e].visible=!0):(this["moveGroup"+e].visible=!1,this["clickBtn"+e].visible=!1),this["subLabel"+e].visible=!1,this["clickSubLabel"+e].visible=!1}},e.prototype.clickBtnFun=function(t){if("group"!=t.target.name&&-1==this.trigonPosition.indexOf(t.target.name)){this.playMusic("fy_clickTip");var e=this.clickBtn.x+t.target.parent.x+t.target.x+t.target.width/2,i=this.clickBtn.y+t.target.parent.y+t.target.y+t.target.height/2;this.isClose.push({x:e,y:i}),this.isFirstLineTo?(this.trigonPosition=[],this.shape.graphics.clear(),this.shape.graphics.lineStyle(15,6698240),this.shape.graphics.moveTo(e,i),this.shape.graphics.lineTo(e,i),this.isFirstLineTo=!1,this.mc.x=720,this.mc.y=660):(this.shape.graphics.lineTo(e,i),this.isClose.length>=2&&(this.mc.x=910,this.mc.y=600,this.shape.touchEnabled=!0),this.isClose.length>=3&&(this.mc&&this.mc.parent&&this.removeChild(this.mc),this.shape.graphics.clear(),this.shape.graphics.lineStyle(15,6698240),this.shape.graphics.beginFill(15844369),this.shape.graphics.moveTo(this.isClose[0].x,this.isClose[0].y),this.shape.graphics.lineTo(this.isClose[0].x,this.isClose[0].y),this.shape.graphics.lineTo(this.isClose[1].x,this.isClose[1].y),this.shape.graphics.lineTo(this.isClose[2].x,this.isClose[2].y),this.shape.graphics.lineTo(this.isClose[0].x,this.isClose[0].y),this.shape.graphics.endFill(),this.isClose=[],this.isFirstLineTo=!0)),this.trigonPosition.push(t.target.name),this.addChildAt(this.shape,100),this.isCursor&&0==this.isClose.length&&(this.cursorFun2(),this.isCursor=!1)}},e.prototype.mouseDown=function(t){this.trigonPosition.sort(),this.touchStatus=!0,this.distance.x=t.stageX-this.shape.x,this.distance.y=t.stageY-this.shape.y,this.mc&&this.mc.parent&&this.removeChild(this.mc)},e.prototype.mouseUp=function(t){var e=this,i=this["moveGroup"+this.subNum].hitTestPoint(t.stageX,t.stageY),s=this.resultArr.indexOf(this.trigonPosition.join(""));if(i&&-1!=s){this.playMusic("fy_zq"),console.log("答案正确");var n=this.moveGroup.x+this["moveGroup"+this.subNum].x+this["moveGroup"+this.subNum].$children[s].x,r=this.moveGroup.y+this["moveGroup"+this.subNum].y+this["moveGroup"+this.subNum].$children[s].y;this.imgTransition.visible=!0,this.imgTransition.source="img_"+this.subNum+"_"+this.trigonPosition.join("")+"_png",this.imgTransition.width=this["moveGroup"+this.subNum].$children[s].width,this.imgTransition.height=this["moveGroup"+this.subNum].$children[s].height,this.imgTransition.x=t.stageX,this.imgTransition.y=t.stageY,egret.Tween.get(this.imgTransition,{loop:!1}).to({x:n,y:r},500).call(function(){e["moveGroup"+e.subNum].$children[s].source="img_"+e.subNum+"_"+e.trigonPosition.join("")+"_png",e.resultArr[s]="TRUE",e.trigonPosition=[],e.imgTransition.visible=!1,e.isAchieve()})}else this.playMusic("fy_error"),console.log("答案错误"),this.trigonPosition=[];this.shape.x=0,this.shape.y=0,this.shape.graphics.clear(),this.isClose=[],this.isFirstLineTo=!0,this.imgBorder.visible=!1,this.touchStatus=!1},e.prototype.mouseMove=function(t){if(this.touchStatus){this.shape.x=t.stageX-this.distance.x,this.shape.y=t.stageY-this.distance.y;var e=this["moveGroup"+this.subNum].hitTestPoint(t.stageX,t.stageY);e?this.imgBorder.visible=!0:this.imgBorder.visible=!1,e?this.playMusic("fy_tuoru"):""}},e.prototype.filtersFun=function(){var t=0,e=45,i=16776960,s=1,n=16,r=16,o=3,a=1,h=!1,u=!1,c=new egret.DropShadowFilter(t,e,i,s,n,r,o,a,h,u);this.clickBtn.filters=[c]},e.prototype.isAchieve=function(){for(var t=!0,e=0;e<this.resultArr.length;e++)if("TRUE"!=this.resultArr[e]){t=!1;break}t?this["switch"].enabled=!0:this["switch"].enabled=!1},e.prototype.clickSubLabelFun=function(t){"group"!=t.target.name&&(this.playMusic("fy_tuoru"),this.affirm.enabled=!0,this.clickLabel=t.target,this.addChild(new Keyset(this,this.clickSubLabel.x,this.clickSubLabel.y-300)))},e.prototype.affirmFun=function(){for(var t=this,e=this["clickSubLabel"+this.subNum].$children,i=!0,s=0;s<e.length;s++)if(e[s].text!=this.submitArr[this.subNum-1][s]){e[s].text="输入",i=!1;break}if(i){this.playMusic("fy_clickTip"),this.tipLabel.visible=!0,this.tipLabelOpen.visible=!1,this.clickSubLabel.visible=!1,this["subLabel"+this.subNum].visible=!1,this.showSubject.visible=!1;var n=this.clickSubject.$children;setTimeout(function(){var e=t.animationFun(t.paopaosuilie);e.x=n[t.subNum-1].x+n[t.subNum-1].width/2,e.y=n[t.subNum-1].y+n[t.subNum-1].height/2},500)}else this.playMusic("fy_error")},e.prototype.switchFun=function(){this.playMusic("fy_clickTip"),this.moveGroup.visible=!1,this.clickBtn.visible=!1,this.clickSubLabel.visible=!0,this["moveGroup"+this.subNum].visible=!1,this["clickBtn"+this.subNum].visible=!1,this["subLabel"+this.subNum].visible=!0,this["clickSubLabel"+this.subNum].visible=!0,this["clickSubLabel"+this.subNum].$children.map(function(t){t.text="输入"}),this["switch"].enabled=!1},e.prototype.backFun=function(){this.playMusic("fy_clickTip"),this.tipLabel.visible=!0,this.tipLabelOpen.visible=!1,this.shape.graphics.clear(),this["subLabel"+this.subNum].visible=!1,this.moveGroup.visible=!1,this.clickBtn.visible=!1,this.clickSubLabel.visible=!1,this.showSubject.visible=!1,this.subNum>=3?this["moveGroup"+this.subNum].$children.map(function(t){("BD_png"!=t.source||"DC_png"!=t.source)&&(t.source="yanweimoxing_10_png")}):this["moveGroup"+this.subNum].$children.map(function(t){t.source="yanweimoxing_09_png"}),this.mc&&this.mc.parent&&this.removeChild(this.mc)},e.prototype.cursorFun=function(){this.mc&&this.mc.parent&&this.removeChild(this.mc);var t=RES.getRes("shouzhi_json"),e=RES.getRes("shouzhi_png"),i=new egret.MovieClipDataFactory(t,e);this.mc=new egret.MovieClip(i.generateMovieClipData("shouzhi")),this.addChildAt(this.mc,900),this.mc.play(-1),this.mc.x=1200,this.mc.y=510},e.prototype.cursorFun2=function(){this.mc&&this.mc.parent&&this.removeChild(this.mc);var t=RES.getRes("shouzhi2_json"),e=RES.getRes("shouzhi2_png"),i=new egret.MovieClipDataFactory(t,e);this.mc=new egret.MovieClip(i.generateMovieClipData("shouzhi2")),this.addChildAt(this.mc,900),this.mc.play(-1),this.mc.x=850,this.mc.y=700},e.prototype.fireAnimation=function(){var t=RES.getRes("fuhuo01_mc_json"),e=RES.getRes("fuhuo01_tex_png"),i=new egret.MovieClipDataFactory(t,e),s=new egret.MovieClip(i.generateMovieClipData("fuhuo01"));this.addChild(s),s.play(-1),s.x=500,s.y=500,s.addEventListener(egret.Event.COMPLETE,function(){console.log("播放完成")},this)},e.prototype.showTipFun=function(){this.showTipGroup.visible=!0,this.showSubjectTip.source=this.tipLabel.visible?"yanweimoxing_70_png":"yanweimoxing_71_png"},e.prototype.pokeAnimation=function(t){var e=this,i=RES.getRes(t.dragonbonesData),s=RES.getRes(t.textureData1),n=RES.getRes(t.texture1);this.egretFactory.parseDragonBonesData(i),this.egretFactory.parseTextureAtlasData(s,n),this.armature=this.egretFactory.buildArmature(t.name);var r=this.armature.getDisplay();this.flie.addChild(r),"swallow1"==t.name&&(r.x=-90,r.y=-220),this.armature.animation.gotoAndPlayByFrame(t.name,1,t.count).timeScale=.8,dragonBones.WorldClock.clock.add(this.armature),"fuhuo"==t.name&&setTimeout(function(){e.swallow.source="yanweimoxing_34_png",e.closeSub.play(0)},1e3),this.armature.addEventListener(dragonBones.EventObject.COMPLETE,function(t){var e=this;console.log("动画播放完成"),this.overRect.visible=!0,this.flie.removeChild(this.armature.getDisplay()),this.closeSwallow.play(0),this.fy_revise.play(0,1).addEventListener(egret.Event.SOUND_COMPLETE,function(){e.playMusic("fy_jiao")},this),this.pokeAnimation(this.warcraftNormal)},this)},e.prototype.animationFun=function(t){var e=this;this[t.take]&&this[t.take].parent&&(t.dom?this[t.dom].removeChild(this[t.take]):this.removeChild(this[t.take]));var i=RES.getRes(t.dragonbonesData),s=RES.getRes(t.textureData1),n=RES.getRes(t.texture1),r=new dragonBones.EgretFactory;r.parseDragonBonesData(i),r.parseTextureAtlasData(s,n);var o=r.buildArmatureDisplay(t.name);return t.dom?this[t.dom].addChild(o):this.addChild(o),o.animation.gotoAndPlayByFrame(t.name,1,t.count).timeScale=1,o.scaleX=1.2,o.scaleY=1.2,o.addEventListener(dragonBones.EventObject.FRAME_EVENT,function(t){},this),o.addEventListener(dragonBones.EventObject.COMPLETE,function(){if(o.parent&&(t.dom?e[t.dom].removeChild(o):e.removeChild(o)),e.subNum>=3){var i=e.clickSubject.$children[e.subNum-1];i.source="sub_"+e.subNum+"_up_png",e.flie.visible=!0,setTimeout(function(){e.pokeAnimation(e.file),e.playMusic("fy_gshj"),e.fy_fh.play(0,1)},1e3)}else{var i=e.clickSubject.$children;i[e.subNum-1].source="sub_"+e.subNum+"_up_png",i[e.subNum].source="sub_"+e.subNum+"_click_png"}},this),o},e.prototype.musicFun=function(){this.isMusic?(this.music_bj.stop(),this.isMusic=!1,this.music.source="music_close_png"):(this.music_bj=this.fy_bj.play(0,-1),this.music_bj.volume=.3,this.isMusic=!0,this.music.source="music_png")},e.prototype.reviseFun=function(){window.location.reload()},e.prototype.playMusic=function(t,e){void 0===e&&(e=1),this.racTipMusic&&this.racTipMusic.stop(),this.racTipMusic=this[t].play(0,e)},e}(eui.Component);__reflect(Swallow.prototype,"Swallow",["eui.UIComponent","egret.DisplayObject"]);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,s){function n(t){e.call(s,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(s))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(s,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(s,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var h=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(s,generateJSON.paths[t])},this):RES.getResByUrl(h,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(s,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(s,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Keyset=function(t){function e(e,i,s){var n=t.call(this)||this;return n.skinName="KeysetSkin",n.cacl=e,n.x=0,n.y=0,console.log(i,s),n.keySetGroup.x=i,n.keySetGroup.y=s,n}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);for(var e=0;10>e;e++)this["key"+e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickKeyFun,this);this.cacl.clickLabel.text="",this.keyRevise.addEventListener(egret.TouchEvent.TOUCH_TAP,this.reviseFun,this),this.keyOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this),this.RectBj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.submitFun,this)},e.prototype.clickKeyFun=function(t){var e=t.target.source.split("_")[0];this.cacl.clickLabel.text.length<4&&(this.cacl.clickLabel.text+=e.split("key")[1])},e.prototype.reviseFun=function(t){this.cacl.clickLabel.text=""},e.prototype.submitFun=function(t){""!=this.cacl.clickLabel.text?this.cacl.clickLabel.text=parseInt(this.cacl.clickLabel.text)+"":this.cacl.clickLabel.text="0",this.cacl.removeChild(this)},e}(eui.Component);__reflect(Keyset.prototype,"Keyset",["eui.UIComponent","egret.DisplayObject"]);